(this["webpackJsonpmind-tracking"]=this["webpackJsonpmind-tracking"]||[]).push([[0],{166:function(e,t,a){},167:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(50),s=a.n(i),c=(a(63),a(1)),o=a.n(c),l=a(3),u=a(2),d="https://mind-tracker-api-v2.herokuapp.com/",m=Object(n.createContext)({}),p=function(){return r.a.useContext(m)},h=function(e){var t=e.children,a=Object(n.useState)(""),i=Object(u.a)(a,2),s=i[0],c=i[1],p=Object(n.useState)(null),h=Object(u.a)(p,2),f=h[0],v=h[1],E=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(),n="".concat(d,"user/login"),e.prev=2,e.next=5,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:a})});case 5:return r=e.sent,e.next=8,r.json();case 8:if(i=e.sent,200===r.status){e.next=11;break}throw new Error("Unable to login: ".concat(i.message));case 11:c(i.token),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),v(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(),n="".concat(d,"user/register"),e.prev=2,e.next=5,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:a})});case 5:return r=e.sent,e.next=8,r.json();case 8:if(i=e.sent,201===r.status){e.next=11;break}throw new Error("Unable to register: ".concat(i.message));case 11:c(i.token),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),v(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){f&&v(null)},y=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c("");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(m.Provider,{value:{token:s,authError:f,login:E,logout:y,register:g,isLoggedIn:function(){return s.trim().length>0}}},t)},f=(a(65),"https://mind-tracker-api-v2.herokuapp.com/meditation"),v=Object(n.createContext)({}),E=function(){return r.a.useContext(v)},g=function(e){var t=e.children,a=p().token,i=Object(n.useState)(!1),s=Object(u.a)(i,2),c=s[0],d=s[1],m=Object(n.useState)(null),h=Object(u.a)(m,2),E=h[0],g=h[1],b=Object(n.useState)([]),y=Object(u.a)(b,2),w=y[0],k=y[1],x=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,t=new URL(f),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},e.next=6,fetch(t.toString(),n);case 6:return r=e.sent,e.next=9,r.json();case 9:if(i=e.sent,200===r.status){e.next=12;break}throw new Error(i.message);case 12:k(i.data),D(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),g(e.t0);case 19:return e.prev=19,d(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,16,19,22]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,i,s,c,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:null,e.prev=1,n=new URL(f),r={postingDate:t?null===t||void 0===t?void 0:t.format("YYYY-MM-DD"):""},i={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(r)},e.next=7,fetch(n.toString(),i);case 7:return s=e.sent,e.next=10,s.json();case 10:if(c=e.sent,201===s.status){e.next=13;break}throw new Error(c.message);case 13:D(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),g(e.t0);case 19:return e.prev=19,d(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,16,19,22]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,i,s,c,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:-1,e.prev=1,n=new URL(f),r={id:t},i={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(r)},e.next=7,fetch(n.toString(),i);case 7:return s=e.sent,e.next=10,s.json();case 10:if(c=e.sent,200===s.status){e.next=13;break}throw new Error(c.message);case 13:D(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),g(e.t0);case 19:return e.prev=19,d(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,16,19,22]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,i,s,c,l,u,m=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:-1,n=m.length>1&&void 0!==m[1]?m[1]:"",r=m.length>2?m[2]:void 0,e.prev=3,i=new URL(f),s={id:t,postingDate:n,awarenessPoints:r},c={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(s)},e.next=9,fetch(i.toString(),c);case 9:return l=e.sent,e.next=12,l.json();case 12:if(u=e.sent,200===l.status){e.next=15;break}throw new Error(u.message);case 15:D(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),g(e.t0);case 21:return e.prev=21,d(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,18,21,24]])})));return function(){return e.apply(this,arguments)}}(),D=function(){E&&g(null)};return r.a.createElement(v.Provider,{value:{isLoading:c,appError:E,setIsLoading:d,meditations:w,getAllMeditations:x,addMeditation:N,deleteMeditation:j,updateMeditation:O}},t)},b=(a(66),a(67),a(51)),y=a.n(b);var w=function(){return r.a.createElement("header",{className:"hero-header"},r.a.createElement("div",{className:"left-header"},r.a.createElement("h1",null,"Mind Tracking"),r.a.createElement("p",null,"Keep track of your meditation habit and see your progress. Simply click on the meditation panel to add an entry")),r.a.createElement("div",{className:"right-header"},r.a.createElement("img",{className:"brain-toon",src:y.a,alt:"Large brain cartoon"})))},k=(a(68),a(52)),x=a.n(k),N=a(5),j=a.n(N);a(32);var O=function(e){var t=e.isGreen,a=void 0!==t&&t;return r.a.createElement("span",{className:"day-dot  ".concat(a?"day-dot-filled":""," ")})},D=function(e){var t=e.weekEntries,a=void 0===t?[]:t,n=e.name,i=void 0===n?"habit":n,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={awarenessPoints:0,count:0,monday:!1,tuesday:!1,wednesday:!1,thursday:!1,friday:!1,saturday:!1,sunday:!1};return e.forEach((function(e){var a=j()(e.postingDate).add(1,"d").isoWeekday();switch(t.count++,t.awarenessPoints+=e.awarenessPoints,a){case 1:t.monday||(t.monday=!0);break;case 2:t.tuesday||(t.tuesday=!0);break;case 3:t.wednesday||(t.wednesday=!0);break;case 4:t.thursday||(t.thursday=!0);break;case 5:t.friday||(t.friday=!0);break;case 6:t.saturday||(t.saturday=!0);break;case 7:t.sunday||(t.sunday=!0)}})),t}(a),c=s.monday,o=s.tuesday,l=s.wednesday,u=s.thursday,d=s.friday,m=s.saturday,p=s.sunday,h=s.count,f=s.awarenessPoints;return r.a.createElement("div",{className:"week-report"},r.a.createElement("div",{className:"left-report"},r.a.createElement("h1",null,i),r.a.createElement("div",{className:"day-dot-list"},r.a.createElement(O,{isGreen:c}),r.a.createElement(O,{isGreen:o}),r.a.createElement(O,{isGreen:l}),r.a.createElement(O,{isGreen:u}),r.a.createElement(O,{isGreen:d}),r.a.createElement(O,{isGreen:m}),r.a.createElement(O,{isGreen:p})),r.a.createElement("p",{className:"report-text"}," ","".concat(h,"/7"))),r.a.createElement("div",{className:"right-report"},r.a.createElement("p",null,"Points"),r.a.createElement("p",null,f)))},S=a(9),C=a.n(S);var M=function(e){e.weekEntries;var t=e.name,a=void 0===t?"habit":t;return r.a.createElement("div",{className:"week-report"},r.a.createElement("div",{className:"left-report"},r.a.createElement("h1",null,a),r.a.createElement("div",{className:"day-dot-list"},r.a.createElement(C.a,{style:{height:"2em",width:"100%",maxWidth:"200px"}})),r.a.createElement("p",{className:"report-text"}," ",r.a.createElement(C.a,{style:{height:"1em",width:"20px",maxWidth:"50px"}}))),r.a.createElement("div",{className:"right-report"},r.a.createElement("p",null,r.a.createElement(C.a,{style:{height:"1em",width:"20px",maxWidth:"50px"}})),r.a.createElement("p",null,r.a.createElement(C.a,{style:{height:"1em",width:"100%",maxWidth:"200px"}}))))},P=function(e){var t=e.habitEntries,a=void 0===t?[]:t,n=(e.userName,e.refreshData),i=e.name,s=void 0===i?"Meditation":i,c=E(),u=c.isLoading,d=c.addMeditation,m=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=j()().startOf("isoWeek"),a=j()().endOf("isoWeek"),n=e.filter((function(e){return j()(e.postingDate).add(1,"d").isBetween(t,a,void 0,"[]")}));return n}(a);return r.a.createElement("button",{className:"habit-overview",onClick:m},r.a.createElement("div",{className:"logo-img-container"},r.a.createElement("img",{className:"logo-img",src:x.a,alt:"".concat(s," logo")})),u?r.a.createElement(M,{weekEntries:p,name:s}):r.a.createElement(D,{weekEntries:p,name:s}))};a(70);function L(e){var t=e.date,a=void 0===t?"2020-01-01":t,i=e.points,s=void 0===i?1:i,c=e.togglePanel,d=e.entry,m=void 0===d?{}:d,p=e.refreshData,h=Object(n.useState)(a),f=Object(u.a)(h,2),v=f[0],g=f[1],b=Object(n.useState)(s),y=Object(u.a)(b,2),w=y[0],k=y[1],x=E().updateMeditation,N=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(),t=m.id,e.next=4,x(t,v,w);case 4:p();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"edit-panel"},r.a.createElement("div",{className:"change-inputs"},r.a.createElement("label",{htmlFor:"newPoints"},"Points:",r.a.createElement("input",{type:"number",name:"date",id:"newPoints",value:w,min:"1",max:"200",onChange:function(e){k(e.target.value)}})),r.a.createElement("label",{htmlFor:"newDate"},"New Date",r.a.createElement("input",{type:"date",name:"date",id:"newDate",value:v,min:"2020-01-01",onChange:function(e){g(e.target.value)}}))),r.a.createElement("button",{className:"entry-btn entry-btn-update",onClick:N},"Update"))}var T=function(e){var t=e.name,a=void 0===t?"Meditation":t,i=e.entry,s=void 0===i?{}:i,c=e.refreshData,d=Object(n.useState)(!1),m=Object(u.a)(d,2),p=m[0],h=m[1],f=E().deleteMeditation,v=function(){h((function(){h(!p)}))},g=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(s.id);case 2:c();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=j()(s.postingDate).add(1,"d").format("MM-DD-YYYY");return r.a.createElement("div",{className:"habit-entry-container"},r.a.createElement("div",{className:"habit-entry"},r.a.createElement("h3",null,a),r.a.createElement("div",null,r.a.createElement("p",null," Points: ",s.awarenessPoints," "),r.a.createElement("p",null," ",b," ")),r.a.createElement("div",{className:"entry-btn-group"},r.a.createElement("button",{className:"entry-btn entry-btn-update",onClick:v},"edit"),r.a.createElement("button",{className:"entry-btn entry-btn-delete",onClick:g},"delete"))),p&&r.a.createElement(L,{date:j()(s.postingDate).add(1,"d").format("YYYY-MM-DD"),points:s.awarenessPoints,togglePanel:v,refreshData:c,entry:s}))};var B=function(){return r.a.createElement("div",{width:"80%",style:{marginBottom:"10px"}},r.a.createElement(C.a,{style:{height:"50px",minWidth:"10px",width:"80%"}}))};var U=function(e){var t=e.habitEntries,a=void 0===t?[]:t,n=e.refreshData,i=E().isLoading?function(e){for(var t=[],a=0;a<e;a++)t.push(r.a.createElement(B,{key:a}));return t}(20):a.map((function(e){return r.a.createElement(T,{key:e.id,refreshData:n,entry:e})}));return r.a.createElement("div",{className:"habit-entry-list"},r.a.createElement("h2",null,"Habit list"),r.a.createElement("div",{className:"entries-container"},i))},W=(a(71),a(54)),Y=function(e){var t=e.habitEntries,a=[],n=[];t.forEach((function(e){a.unshift(j()(e.postingDate).add(1,"d").format("MM-DD")),n.unshift(e.awarenessPoints)}));var i={labels:a,datasets:[{label:"Meditation",fill:!1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:2,pointHoverRadius:10,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:5,pointHitRadius:10,data:n}]};return r.a.createElement("div",{className:"trend-chart"},r.a.createElement("h1",null,"Trend Chart"),r.a.createElement("div",{className:"chart-container",style:{height:"100%",width:"100%"}},r.a.createElement(W.a,{data:i,options:{scales:{xAxes:[{type:"time",time:{unit:"day"},ticks:{labelOffset:0,padding:5}}],yAxes:[{ticks:{beginAtZero:!0,stepSize:1}}]},layout:{padding:{left:5,right:5,top:5,bottom:5}}}})))},A=function(){var e=E(),t=e.meditations,a=e.getAllMeditations,i=Object(n.useState)("demoUser"),s=Object(u.a)(i,2),c=s[0];s[1];Object(n.useEffect)((function(){a()}),[]);var o=function(){a()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null),r.a.createElement("div",{className:"weekly-overview-list"},r.a.createElement("h2",null,"This weeks overview "),r.a.createElement(P,{habitEntries:t,userName:c,refreshData:o}),r.a.createElement(Y,{habitEntries:t})),r.a.createElement(U,{refreshData:o,habitEntries:t}))},R=(a(166),a(57)),G=a(56),J=a.n(G),H=function(){var e=p(),t=e.login,a=e.register,i=e.authError,s=Object(R.a)(),c=s.register,o=s.handleSubmit,l=s.errors,d=Object(n.useState)(!0),m=Object(u.a)(d,2),h=m[0],f=m[1];return r.a.createElement("div",{className:"login-register"},r.a.createElement("div",{className:"intro"},r.a.createElement("h1",null,"Mind Tracking"),r.a.createElement("img",{className:"brain-toon",src:J.a,alt:"Large brain cartoon"})),r.a.createElement("form",{onSubmit:o((function(e){var n=e.username,r=e.password;h?t(n,r):a(n,r),console.log(i)}))},r.a.createElement("div",{className:"header"},r.a.createElement("h2",{onClick:function(){return f(!0)},className:h?"active":""},"Login"),r.a.createElement("span",null,"/"),r.a.createElement("h2",{onClick:function(){return f(!1)},className:h?"":"active"},"Register")),r.a.createElement("p",{className:"error-warning"},i?i.message:""),r.a.createElement("input",{type:"text",placeholder:"username",name:"username",ref:c({required:!0,minLength:4,maxLength:30})}),r.a.createElement("p",{className:"error-warning"},l.username?"username is required and must be 4-30 character long":""),r.a.createElement("input",{type:"password",placeholder:"password",name:"password",ref:c({required:!0,minLength:4,maxLength:30})}),r.a.createElement("p",{className:"error-warning"},l.password?"password is required and must be 4-30 character long":""),r.a.createElement("input",{className:"btn",type:"submit",value:h?"Login":"Register"}),r.a.createElement("button",{onClick:function(e){e.preventDefault(),t("demoUser","pass")},className:"demo-btn btn"},"Use Demo User"),r.a.createElement("hr",null),r.a.createElement("p",{className:"swap-form-msg"},h?"Don't have an account? ":"Already have an account? ",r.a.createElement("span",{className:"swap-form-btn",onClick:function(){f(!h)}},h?"Register":"Login"))))},z=function(){return(0,p().isLoggedIn)()?r.a.createElement(g,null,r.a.createElement(A,null)):r.a.createElement(H,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null,r.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,t,a){},51:function(e,t,a){e.exports=a.p+"static/media/mind-toon.d86f34f6.png"},52:function(e,t,a){e.exports=a.p+"static/media/baby-groot-meditation.6f4dc16d.jpeg"},56:function(e,t,a){e.exports=a.p+"static/media/full-mind-toon.a6bcf780.png"},58:function(e,t,a){e.exports=a(167)},63:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){}},[[58,1,2]]]);
//# sourceMappingURL=main.966025a6.chunk.js.map